.. _data-type-gettext-cobj:

cObj
""""

:aspect:`getText Key:`
   cObj

:aspect:`Description:`
   For :ref:`cobj-content` and :ref:`cobj-records` cObjects that are returned by
   a select query, this returns the row number (1,2,3,...) of the current
   cObject record.

   :ts:`parentRecordNumber` is the only key available.

:aspect:`Example:`

   Get the number of the current cObject record::

      foo = cObj : parentRecordNumber

.. _data-type-gettext-context:

context
"""""""

:aspect:`getText Key:`
   context

:aspect:`Description:`
   access values from context API (:ref:`see <t3coreapi:context-api>`).
   If a property is an array, it is converted into a comma-separated list.

   Syntax::

     data = context:[aspectName]:[propertyName]

:aspect:`Example:`
   Retrieve current workspace id::

      page.10 = TEXT
      page.10.data = context:workspace:id
      page.10.wrap = You are in workspace: |

.. _data-type-gettext-current:

current
"""""""

:aspect:`getText Key:`
   current

:aspect:`Description:`
   current (gets the "current" value)

   .. What is the "current" value? We should explain that.

:aspect:`Example:`
   Get the current value::

      foo = current

.. _data-type-gettext-date:

date
""""

:aspect:`getText Key:`
   date

:aspect:`Description:`
   Can be used with a colon and :ref:`data-type-date-conf`.

:aspect:`Default:`
   ::

      d/m Y

:aspect:`Example:`
   Get the current time formatted dd-mm-yy::

      foo = date : d-m-y

.. _data-type-gettext-db:

DB
""
:aspect:`getText Key:`
   DB

:aspect:`Syntax:`
   DB : [table name] : [uid] : [field]

:aspect:`Description:`
   Value from database. Any record from a table in TCA can be selected here.
   Records marked as deleted will not return any value.

   In contrast to other keys, colons are used here to get deeper into the
   structure, instead of pipes.

:aspect:`Example:`
   Get the value of the header field of record with uid 234 from table
   "tt\_content"::

      foo = DB : tt_content:234:header

.. _data-type-gettext-debug:

debug
"""""

:aspect:`getText Key:`
   debug

:aspect:`Description:`
   Returns HTML-formatted content of the PHP variable defined by the keyword.
   Available keywords are :ts:`rootLine`, :ts:`fullRootLine`, :ts:`data`,
   :ts:`register` and :ts:`page`.

:aspect:`Example:`
   Outputs the current root-line visually in HTML::

      foo = debug : rootLine

.. _data-type-gettext-field:

field
"""""

:aspect:`getText Key:`
   field

:aspect:`Syntax:`
   field : [field name from the current :php:`$cObj->data` array in the cObject, multi-dimensional.]

:aspect:`Description:`
   This gives read access to the current value of an internal global variable determined by the given key.

   - As default the :php:`$cObj->data` array is :php:`$GLOBALS['TSFE']->page`
     (record of the current page)

   - In :ref:`TMENU <tmenu>` :php:`$cObj->data` is set in a loop to the page-record for
     each menu item during its rendering process.

   - In :ref:`cobj-content` / :ref:`cobj-records` :php:`$cObj->data` is set to
     the actual record

   - In :ref:`GIFBUILDER <gifbuilder>` :php:`$cObj->data` is set to the data
     :ref:`GIFBUILDER <gifbuilder>` is supplied with.

:aspect:`Examples:`
   Get content from :php:`$cObj->data['header']`::

      foo = field : header

   Get content from :php:`$cObj->data['fieldname']['level1']['level2']`::

      foo = field : fieldname|level1|level2

.. _data-type-gettext-file:

file
""""

:aspect:`getText Key:`
   file

:aspect:`Syntax:`
   file : [uid] : [property]

:aspect:`Description:`
   Retrieves a property from a file object (FAL) by identifying it through its
   sys\_file UID. Note that during execution of the :ref:`cobj-files` cObject,
   it's also possible to reference the current file with "current" as UID like
   :ts:`file : current : size`.

   The following properties are available: name, uid, originalUid, size, sha1,
   extension, mimetype, contents, publicUrl, modification_date, creation_date

   Furthermore when manipulating references (such as images in content elements
   or media in pages), additional properties are available (not all are
   available all the time, it depends on the setup of *references* of the
   :ref:`cobj-files` cObject): title, description, link, alternative.

   Additionally, any data in the "sys_file_metadata" table can be accessed too.

   See the :ref:`FILES <cobj-files-examples>` cObject for usage examples.

:aspect:`Example:`

   Get the file size of the file with the sys\_file UID 17::

      foo = file : 17 : size

.. _data-type-gettext-flexform:

flexform
""""""""

:aspect:`getText Key:`
   flexform

:aspect:`Syntax:`
   flexform : [field containing flexform data].[property of this flexform]

:aspect:`Description:`
   Access values from flexforms, e.g. inside of tt_content record. In contrast
   to most parts, deeper levels are accessed through dots, not pipes.

:aspect:`Example:`
   Return the flexform value of given name::

      foo = flexform : pi_flexform:settings.categories

.. _data-type-gettext-fullrootline:

fullRootLine
""""""""""""

:aspect:`getText Key:`
   fullRootLine

:aspect:`Syntax:`
   fullRootLine : [pointer, integer], [field name], ["slide"]

:aspect:`Description:`
   This property can be used to retrieve values from "above" the current page's
   root. Take the below page tree and assume that we are on the page "Here you
   are!". Using the :ref:`data-type-gettext-levelfield` property, it is possible
   to go up only to the page "Site root", because it is the root of a new
   (sub-)site.  With :ts:`fullRootLine` it is possible to go all the way up to page
   tree root.  The numbers between square brackets indicate to which page each
   value of *pointer* would point to:

   .. code-block:: text

      - Page tree root [-2]
      |- 1. page before [-1]
         |- Site root (root template here!) [0]
         |- Here you are! [1]


   A "slide" parameter can be added just as for the
   :ref:`data-type-gettext-levelfield` property.

:aspect:`Example:`

   Get the title of the page right before the start of the current website::

      foo = fullRootLine : -1, title

.. _data-type-gettext-getenv:

getenv
""""""

:aspect:`getText Key:`
   getenv

:aspect:`Description:`
   Value from PHP environment variables.

   For a cached variation of this feature, please refer to :ref:`getEnv <getenv>`.

:aspect:`Example:`
   Get the env var `HTTP_REFERER`::

      foo = getenv : HTTP_REFERER

.. _data-type-gettext-getindpenv:

getIndpEnv
""""""""""
:aspect:`getText Key:`
   getIndpEnv

:aspect:`Syntax:`
   getIndpEnv : <name>

:aspect:`Description:`
   Returns the value of a *System Environment Variable* denoted by
   *name* regardless of server OS, CGI/MODULE version etc. The result is
   identical to the :php:`$_SERVER` variable in most cases. This method should
   be used instead of *getEnv* to get reliable values for all situations. The
   internal processing is handled by
   :php:`TYPO3\CMS\Core\Utility\GeneralUtility::getIndpEnv()`

   Available names:

   ===================== ============================================================================= =================
   Name                  Definition                                                                    Example or result
   ===================== ============================================================================= =================
   \_ARRAY               Return an array with all available key-value pairs for debugging purposes
   HTTP_ACCEPT_LANGUAGE  language(s) accepted by client
   HTTP_HOST             [host][:[port]]                                                               `192.168.1.4:8080`
   HTTP_REFERER          [scheme]://[host][:[port]][path]                                              `http://192.168.1.4:8080/typo3/32/temp/phpcheck/index.php/arg1/arg2/arg3/?arg1,arg2,arg3&p1=parameter1&p2[key]=value`
   HTTP_USER_AGENT       client user agent
   PATH_INFO             [path_info]                                                                   `/arg1/arg2/arg3/`
   QUERY_STRING          [query]                                                                       `arg1,arg2,arg3&p1=parameter1&p2[key]=value`
   REMOTE_ADDR           client IP
   REMOTE_HOST           client host
   REQUEST_URI           [path]?[query]                                                                `/typo3/32/temp/phpcheck/index.php/arg1/arg2/arg3/?arg1,arg2,arg3&p1=parameter1&p2[key]=value`
   SCRIPT_FILENAME       absolute filename of script
   SCRIPT_NAME           [path_script]                                                                 `/typo3/32/temp/phpcheck/[index.php]`
   TYPO3_DOCUMENT_ROOT   absolute path of root of documents
   TYPO3_HOST_ONLY       [host]                                                                        `192.168.1.4`
   TYPO3_PORT            [port]                                                                        `8080`
   TYPO3_REQUEST_DIR     [scheme]://[host][:[port]][path_dir]
   TYPO3_REQUEST_HOST    [scheme]://[host][:[port]]
   TYPO3_REQUEST_SCRIPT  [scheme]://[host][:[port]][path_script]
   TYPO3_REQUEST_URL     [scheme]://[host][:[port]][path]?[query]
   TYPO3_REV_PROXY       TRUE if this session runs over a well known proxy
   TYPO3_SITE_SCRIPT     [script / Speaking URL] of the TYPO3 website
   TYPO3_SITE_URL        [scheme]://[host][:[port]][path_dir] of the TYPO3 website frontend
   TYPO3_SSL             TRUE if this session uses SSL/TLS (https)
   ===================== ============================================================================= =================

:aspect:`Examples:`
   ::

      # get and output the client IP
      page = PAGE
      page.10 = TEXT
      page.10.stdWrap.data = getIndpEnv : REMOTE_ADDR
      page.10.stdWrap.htmlSpecialChars = 1

.. _data-type-gettext-global:

global
""""""

:aspect:`getText Key:`
   global

:aspect:`Syntax:`
   global : [variable]

:aspect:`Description:`
   Deprecated, use :ref:`data-type-gettext-gp`, :ref:`data-type-gettext-tsfe` or
   :ref:`data-type-gettext-getenv`.

.. _data-type-gettext-gp:

GP
""
:aspect:`getText Key:`
   GP

:aspect:`Syntax:`
   GP : [Value from GET or POST method]

:aspect:`Description:`
   Get an variable from :php:`$_GET` or :php:`$_POST` where a variable, which
   exists in both arrays, is returned from :php:`$_POST`.

:aspect:`Examples:`
   Get input value from query string &stuff=...::

      foo = GP : stuff

   Get input value from query string &stuff[bar]=...::

      foo = GP : stuff|bar

.. _data-type-gettext-level:

level
"""""

:aspect:`getText Key:`
   level

:aspect:`Description:`
   Get the root line level of the current page.

:aspect:`Example:`
   Get the root line level of the current page::

      foo = level

.. _data-type-gettext-levelfield:

levelfield
""""""""""

:aspect:`getText Key:`
   levelfield

:aspect:`Syntax:`
   levelfield : [pointer, integer], [field name], ["slide"]

:aspect:`Description:`
   levelfield: Like :ref:`data-type-gettext-leveltitle` et al. but where the
   second parameter is the root line field to fetch.
   If you use other fields than the usual be sure to add them in the Global Configuration to
   the rootline fields:
   :php:`$GLOBALS['TYPO3_CONF_VARS']['FE']['addRootLineFields']`.

:aspect:`Example:`
   Get the value of the user defined field user_myExtField in the root line::

      foo.data = levelfield : -1, user_myExtField, slide

.. _data-type-gettext-levelmedia:
.. _data-type-gettext-leveluid:
.. _data-type-gettext-leveltitle:

leveltitle, leveluid, levelmedia
""""""""""""""""""""""""""""""""
:aspect:`getText Key:`
   leveltitle, leveluid or levelmedia

:aspect:`Syntax:`
   leveltitle, leveluid, levelmedia: [levelTitle, uid or media in
   root line, 0- , negative = from behind, " , slide" parameter forces a
   walk to the bottom of the root line until there's a "true" value to
   return. Useful with levelmedia.]

:aspect:`Description:`
   Returns values from up or down the page tree.

:aspect:`Examples:`
   Get the title of the page on the first level of the root line::

      foo.data = leveltitle : 1

   Get the title of the page on the level right below the current page AND if
   that is not present, walk to the bottom of the root line until there's a
   title::

      foo.data = leveltitle : -2, slide

   Get the id of the root-page of the website (level zero)::

      foo.data = leveluid : 0

.. _data-type-gettext-lll:

LLL
"""

:aspect:`getText Key:`
   LLL

:aspect:`Description:`
   LLL: Reference to a locallang (xlf, xml or php) label.  Reference consists of
   [fileref]:[labelkey]

:aspect:`Example:`
   Get localized label for logout button::

      foo = LLL : EXT:felogin/pi1/locallang.xlf:logout

.. _data-type-gettext-page:

page
""""

:aspect:`getText Key:`
   page

:aspect:`Description:`
   page: [field in the current page record]

:aspect:`Example:`
   Get the current page title::

      foo = page : title

.. _data-type-gettext-pagelayout:

pagelayout
""""""""""
:aspect:`getText Key:`
   pagelayout

:aspect:`Description:`
   pagelayout

:aspect:`Example:`
   Get the current backend layout::

      foo = pagelayout

.. _data-type-gettext-parameters:

parameters
""""""""""

:aspect:`getText Key:`
   parameters

:aspect:`Syntax:`
   parameters: [field name from the current :php:`$cObj->parameters` array in the cObject.]

:aspect:`Description:`
   See :ref:`parsefunc`.

   .. Why is parsefunc usefull here?

:aspect:`Example:`
   Get content from :php:`$cObj->parameters['color']`::

      foo = parameters : color

.. _data-type-gettext-path:

path
""""

:aspect:`getText Key:`
   path

:aspect:`Description:`
   Path to a file, possibly placed in an extension, returns empty if the file
   does not exist.

:aspect:`Example:`
   Get path to file rsaauth.js (inside extension rsaauth) relative to siteroot::

      foo = path : EXT:rsaauth/resources/rsaauth.js

.. _data-type-gettext-register:

register
""""""""

:aspect:`getText Key:`
   register

:aspect:`Syntax`
   register: [field name from the :php:`$GLOBALS['TSFE']->register`]

:aspect:`Description:`
   See :ref:`LOAD_REGISTER <cobj-load-register>`.

:aspect:`Example:`
   Get content from :php:`$GLOBALS['TSFE']->register['color']`::

      foo = register : color

.. _data-type-gettext-session:

session
"""""""

:aspect:`getText Key:`
   session

:aspect:`Syntax:`
   session : [key]

:aspect:`Description:`
   The :ts:`key` refers to the session key used to store the value.

:aspect:`Example:`
   Get the number of items of a stored shopping cart array/object::

      foo = session : shop_cart|itemCount

.. _data-type-gettext-tsfe:

TSFE
""""

:aspect:`getText Key:`
   TSFE

:aspect:`Syntax:`
   TSFE: [value from the :php:`$GLOBALS['TSFE']` array, multi-dimensional]

:aspect:`Description:`
   Returns a value from
   :php:`TYPO3\CMS\Frontend\Controller\TypoScriptFrontendController`.

:aspect:`Example:`
   Get the "username" field of the current FE user::

      foo = TSFE : fe_user|user|username
